<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¿Me perdonas amor?</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
    <script>
        let yesButton, noButton;
        let showMessage = false;
        let hearts = [];

        function setup() {
            createCanvas(800, 600);
            textAlign(CENTER, CENTER);
            yesButton = new Button("Sí, te perdono amorcito", width / 2, height / 2 - 50);
            noButton = new Button("No", width / 2, height / 2 + 50);
        }

        function draw() {
            background(255);

            if (showMessage) {
                drawMessage();
                drawHearts();
            } else {
                yesButton.display();
                noButton.display();
            }
        }

        function drawMessage() {
            fill(200, 150, 200);
            textSize(48);
            text("Gracias amorcito", width / 2, height / 2);
        }

        function drawHearts() {
            for (let heart of hearts) {
                heart.update();
                heart.display();
            }

            if (frameCount % 10 === 0 && hearts.length < 30) {
                hearts.push(new Heart(width / 2, height / 2));
            }
        }

        function mousePressed() {
            if (yesButton.isClicked(mouseX, mouseY)) {
                showMessage = true;
            } else if (noButton.isClicked(mouseX, mouseY)) {
                yesButton.y += 10;
                noButton.y -= 10;
            }
        }

        class Button {
            constructor(label, x, y) {
                this.label = label;
                this.x = x;
                this.y = y;
                this.w = 200;
                this.h = 50;
            }

            display() {
                fill(200, 150, 200);
                textSize(36);
                text(this.label, this.x, this.y);
            }

            isClicked(px, py) {
                return px > this.x - this.w / 2 && px < this.x + this.w / 2 &&
                       py > this.y - this.h / 2 && py < this.y + this.h / 2;
            }
        }

        class Heart {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.angle = random(TWO_PI);
                this.offsetX = random(75, 150) * cos(this.angle);
                this.offsetY = random(75, 150) * sin(this.angle);
                this.img = loadImage('heart.png');  // Asegúrate de tener un archivo llamado "heart.png"
                this.size = 30;
            }

            update() {
                // Puede agregar lógica de actualización si es necesario
            }

            display() {
                image(this.img, this.x + this.offsetX, this.y + this.offsetY, this.size, this.size);
            }
        }
    </script>
</body>
</html>
